<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ct="clr-namespace:Cyotek.Windows.Forms;assembly=Cyotek.Windows.Forms.ImageBox"
    xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit"
    xmlns:fm="clr-namespace:Frame"
    x:Class="Frame.MainWindow"
    mc:Ignorable="d"
    Title="Frame"
    Height="350" Width="525"
    MinHeight="250" MinWidth="250"
    Background="#FF2E2E2E"
    Loaded="WindowLoaded" Closing="WindowClosing" Closed="WindowClosed" KeyDown="WindowKeyDown"
    MouseDoubleClick="WindowMouseDoubleClick" >
    <Window.Resources>
        <Style TargetType="{x:Type fm:TabItemControl}">
            <!--<Setter Property="AllowDrop" Value="True" />-->
            <!--<EventSetter Event="PreviewMouseDown" Handler="TabItemPreviewMouseDown" />-->
            <!--<EventSetter Event="Drop" Handler="TabItemDrop" />-->
            <Setter Property="Foreground" Value="#FFF0F0F0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type fm:TabItemControl}">
                        <Border>
                            <Grid>
                                <Grid>
                                    <Border x:Name="Border"
                                            CornerRadius="3,3,0,0"
                                            Background="#FF515151" />
                                </Grid>
                                <ContentPresenter ContentSource="Header"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  Margin="2,1" />
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver"
                                     Value="True">
                                <Setter TargetName="Border"
                                        Property="Background"
                                        Value="LightGray" />
                            </Trigger>
                            <Trigger Property="IsSelected"
                                     Value="True">
                                <Setter TargetName="Border"
                                        Property="Background"
                                        Value="Gray" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid x:Name="ImageGrid" Width="Auto" Height="Auto" Background="Transparent" AllowDrop="True"
          Drop="ImageAreaDragDrop">
        <TabControl x:Name="ImageTabControl" Width="Auto" Background="#FF202020" BorderBrush="#FF202020"
                    Foreground="#FFF0F0F0" AllowDrop="True" BorderThickness="0" >
        </TabControl>
    </Grid>
</Window>